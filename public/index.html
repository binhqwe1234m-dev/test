<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cobelix AFK Bot — Dashboard</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/style.css">
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
  <div class="navbar-brand">
    <svg class="navbar-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 002 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0022 16z"/><polyline points="7.5 4.21 12 6.81 16.5 4.21"/><polyline points="7.5 19.79 7.5 14.6 3 12"/><polyline points="21 12 16.5 14.6 16.5 19.79"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
    <span>Cobelix<span class="brand-accent">Bot</span></span>
  </div>
  <div class="navbar-actions">
    <div class="lang-dropdown" id="langDropdown">
      <button class="icon-btn lang-btn" id="langToggle" title="Language">
        <span class="lang-flag" id="langFlag">EN</span>
      </button>
      <div class="lang-menu" id="langMenu">
        <button class="lang-option" data-lang="en"><span class="lang-opt-flag">EN</span> English</button>
        <button class="lang-option" data-lang="vi"><span class="lang-opt-flag">VI</span> Tiếng Việt</button>
      </div>
    </div>
    <button class="icon-btn" id="btnEdit" title="Edit settings">
      <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"/></svg>
    </button>
    <button class="icon-btn" id="themeToggle" title="Toggle theme">
      <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M565-395q35-35 35-85t-35-85q-35-35-85-35t-85 35q-35 35-35 85t35 85q35 35 85 35t85-35Zm-226.5 56.5Q280-397 280-480t58.5-141.5Q397-680 480-680t141.5 58.5Q680-563 680-480t-58.5 141.5Q563-280 480-280t-141.5-58.5ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/></svg>
      <svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"/></svg>
    </button>
    <span class="status-badge" id="statusBadge">OFFLINE</span>
  </div>
</nav>

<main class="dashboard">
  <!-- Stats Row -->
  <div class="stats-row">
    <div class="stat-card">
      <div class="stat-label" data-i18n="stat_server">Server</div>
      <div class="stat-value" id="statServer">—</div>
    </div>
    <div class="stat-card">
      <div class="stat-label" data-i18n="stat_username">Username</div>
      <div class="stat-value" id="statUser">—</div>
    </div>
    <div class="stat-card">
      <div class="stat-label" data-i18n="stat_version">Version</div>
      <div class="stat-value" id="statVersion">—</div>
    </div>
    <div class="stat-card">
      <div class="stat-label" data-i18n="stat_health">Health</div>
      <div class="stat-value">
        <span id="statHealth">—</span>
        <div class="health-bar"><div class="health-bar-fill" id="healthBar"></div></div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-label" data-i18n="stat_food">Food</div>
      <div class="stat-value">
        <span id="statFood">—</span>
        <div class="health-bar food-bar"><div class="health-bar-fill food-fill" id="foodBar"></div></div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-label" data-i18n="stat_position">Position</div>
      <div class="stat-value" id="statPos">—</div>
    </div>
    <div class="stat-card">
      <div class="stat-label" data-i18n="stat_uptime">Uptime</div>
      <div class="stat-value" id="statUptime">—</div>
    </div>
  </div>

  <!-- Controls -->
  <div class="controls-row">
    <button class="btn btn-primary" id="btnConnect"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor"><path d="M480-160q-134 0-227-93t-93-227q0-134 93-227t227-93q69 0 132 28.5T720-690v-110h80v280H520v-80h168q-32-56-87.5-88T480-720q-100 0-170 70t-70 170q0 100 70 170t170 70q77 0 139-44t87-116h84q-28 106-114 173t-196 67Z"/></svg> <span data-i18n="btn_connect">Connect</span></button>
    <button class="btn btn-danger" id="btnDisconnect"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor"><path d="m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg> <span data-i18n="btn_disconnect">Disconnect</span></button>
    <button class="btn btn-ghost" id="btnAutoReconnectOn"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor"><path d="M480-160q-134 0-227-93t-93-227q0-134 93-227t227-93q69 0 132 28.5T720-690v-110h80v280H520v-80h168q-32-56-87.5-88T480-720q-100 0-170 70t-70 170q0 100 70 170t170 70q77 0 139-44t87-116h84q-28 106-114 173t-196 67Z"/></svg> <span data-i18n="btn_auto_on">Auto-Reconnect ON</span></button>
    <button class="btn btn-ghost" id="btnAutoReconnectOff"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor"><path d="m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg> <span data-i18n="btn_auto_off">Auto-Reconnect OFF</span></button>
    <button class="btn btn-ghost" id="btnClear"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor"><path d="M600-240v-80h160v80H600Zm0-320v-80h280v80H600Zm0 160v-80h240v80H600ZM120-640H80v-80h160v-60h160v60h160v80h-40v360q0 33-23.5 56.5T440-200H200q-33 0-56.5-23.5T120-280v-360Zm80 0v360h240v-360H200Zm0 0v360-360Z"/></svg> <span data-i18n="btn_clear">Clear Console</span></button>
  </div>

  <!-- Tab Bar -->
  <div class="tab-container">
    <div class="tab-bar">
      <button class="tab-btn active" data-tab="console">
        <svg class="tab-icon" xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H160v400Zm140-40-56-56 103-104-104-104 57-56 160 160-160 160Zm180 0v-80h240v80H480Z"/></svg>
        <span class="tab-label" data-i18n="tab_console">Console</span>
      </button>
      <button class="tab-btn" data-tab="viewer">
        <svg class="tab-icon" xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M560-280h200v-200h-80v120H560v80ZM200-480h80v-120h120v-80H200v200Zm-40 320q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-480H160v480Zm0 0v-480 480Z"/></svg>
        <span class="tab-label" data-i18n="tab_viewer">Bot View</span>
        <span class="tab-status" id="viewerDot"></span>
      </button>
    </div>

    <!-- Console Tab Content -->
    <div class="tab-content active" id="tabConsole">
      <div class="console-panel">
        <div class="console-header">
          <span class="console-title">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
            <span data-i18n="console_output">Console Output</span>
          </span>
          <span class="console-count" id="logCount">0 lines</span>
        </div>
        <div class="console-body" id="consoleBody"></div>
        <div class="console-input-row">
          <span class="console-prompt">&gt;</span>
          <input type="text" class="console-input" id="chatInput" data-i18n-placeholder="chat_placeholder" placeholder="Type a chat message or command..." autocomplete="off">
          <button class="btn btn-primary btn-sm" id="btnSend" data-i18n="btn_send">Send</button>
        </div>
      </div>
    </div>

    <!-- Viewer Tab Content -->
    <div class="tab-content" id="tabViewer">
      <div class="viewer-panel">
        <div class="viewer-offline" id="viewerOffline">
          <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="currentColor"><path d="M560-280h200v-200h-80v120H560v80ZM200-480h80v-120h120v-80H200v200Zm-40 320q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-480H160v480Zm0 0v-480 480Z"/></svg>
          <p data-i18n="viewer_offline">Bot disconnected</p>
          <span data-i18n="viewer_offline_hint">Connect the bot to get 3D viewer</span>
        </div>
        <iframe class="viewer-iframe" id="viewerIframe" src="about:blank" style="display:none;"></iframe>
      </div>
    </div>
  </div>
</main>

<footer class="footer">
  Cobelix AFK Bot v4.2 &mdash; Dashboard powered by Socket.IO &mdash; Made by Cobelix team with ❤️
</footer>

<!-- Setup Modal -->
<div class="modal-overlay" id="setupModal">
  <div class="modal">
    <div class="modal-header">
      <h2 class="modal-title" data-i18n="modal_title">Server Settings</h2>
      <button class="icon-btn modal-close" id="btnModalClose" title="Close">
        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
      </button>
    </div>
    <form class="modal-form" id="setupForm">
      <div class="form-group">
        <label class="form-label" for="inputServer" data-i18n="label_server">Server Address</label>
        <input type="text" class="form-input" id="inputServer" data-i18n-placeholder="ph_server" placeholder="IP:Port or Domain:Port (e.g. play.example.com:25565)" required>
        <span class="form-hint" data-i18n="hint_port">Port defaults to 25565 if omitted</span>
      </div>
      <div class="form-group">
        <label class="form-label" for="inputUsername" data-i18n="label_username">Bot Username</label>
        <input type="text" class="form-input" id="inputUsername" data-i18n-placeholder="ph_username" placeholder="AFK_Bot" required>
      </div>
      <div class="form-group">
        <label class="form-label" for="inputPassword" data-i18n="label_password">Password</label>
        <input type="password" class="form-input" id="inputPassword" data-i18n-placeholder="ph_password" placeholder="Used for /login and /register">
      </div>
      <div class="form-group">
        <label class="form-label" for="inputFirstMsg" data-i18n="label_first_msg">First-Time Message</label>
        <input type="text" class="form-input" id="inputFirstMsg" data-i18n-placeholder="ph_first_msg" placeholder="Sent after joining (e.g. /help)">
        <span class="form-hint" data-i18n="hint_first_msg">Optional — sent once after bot joins the server</span>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn btn-ghost" id="btnModalCancel" data-i18n="btn_cancel">Cancel</button>
        <button type="submit" class="btn btn-primary" data-i18n="btn_save">Save &amp; Connect</button>
      </div>
    </form>
  </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/app.js"></script>
</body>
</html>
